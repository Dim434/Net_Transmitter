<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>PEAR2_Net_Transmitter documentation</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta><link rel="stylesheet" href="../css/template.css" type="text/css"></link><script type="text/javascript" src="../js/jquery-1.4.2.min.js"></script><script type="text/javascript" src="../js/jquery.tools.min.js"></script><script type="text/javascript" src="../js/jquery-ui-1.8.2.custom.min.js"></script><script type="text/javascript" src="../js/template.js"></script></head><body><div id="content"><h1 class="file">Stream.php<a href="../source/Stream.php.html"><img src="../images/icons/view_source.png" alt="View Source" border="0"></img></a></h1><div id="file-nav-box"><div id="file-nav-options">
              Show:
              <img src="../images/icons/visibility_public.png" alt="Public" id="show-public"></img><img src="../images/icons/visibility_protected.png" alt="Protected" id="show-protected"></img><img src="../images/icons/visibility_private.png" alt="Private" id="show-private"></img><span class="attribute" id="show-inherited">inherited</span></div><div id="file-nav-container"><ul id="file-nav"><li><a href="#classes"><img src="../images/icons/class.png" alt="Class" height="14"></img>
                          Classes
                      </a><ul><li><a href="#\PEAR2\Net\Transmitter\Stream">\PEAR2\Net\Transmitter\Stream</a></li></ul></li></ul><div style="clear: left;"></div></div><div id="file-nav-tab">
              Table of Contents
          </div></div><a name="top" class="anchor"></a><div id="file-description"><div class="short-description">Wrapper for network stream functionality.</div><div class="long-description">PHP has built in support for various types of network streams, such as HTTP and TCP sockets. One problem that arises with them is the fact that a single fread/fwrite call might not read/write all the data you intended, regardless of whether you're in blocking mode or not. While the PHP manual offers a workaround in the form of a loop with a few variables, using it every single time you want to read/write can be tedious.

This package abstracts this away, so that when you want to get exactly N amount of bytes, you can be sure the upper levels of your app will be dealing with N bytes. Oh, and the functionality is nicely wrapped in an object (but that's just the icing on the cake).

PHP version 5</div></div><dl class="file-info"><dt>Author</dt><dd><a href="mailto:boen.robot@gmail.com">Vasil Rangelov</a>
         
    </dd><dt>Category</dt><dd>Net
         
    </dd><dt>Copyright</dt><dd>2011 Vasil Rangelov
         
    </dd><dt>License</dt><dd><a href="http://www.gnu.org/copyleft/lesser.html">LGPL License 2.1</a>
         
    </dd><dt>Link</dt><dd><a href="http://pear2.php.net/PEAR2_Net_Transmitter">http://pear2.php.net/PEAR2_Net_Transmitter</a>
         
    </dd><dt>Package</dt><dd>PEAR2_Net_Transmitter
         
    </dd><dt>Version</dt><dd>1.0.0a4
         
    </dd></dl><a name="classes" class="anchor"></a><a id="\PEAR2\Net\Transmitter\Stream" class="anchor"></a><h2 class="class">\PEAR2\Net\Transmitter\Stream<div class="to-top"><a href="#top">jump to top</a></div></h2><div class="class"><small class="package"><b>Package: </b>PEAR2_Net_Transmitter</small><div class="short-description">A stream transmitter.</div><div class="long-description">This is a convinience wrapper for stream functionality. Used to ensure data
integrity. Designed for TCP sockets, but it has intentionally been made to
accept any stream.</div><dl class="class-info"><dt>Children</dt><dd><a href="../files/NetworkStream.html#\PEAR2\Net\Transmitter\NetworkStream">\PEAR2\Net\Transmitter\NetworkStream</a></dd><dt>Author</dt><dd><a href="mailto:boen.robot@gmail.com">Vasil Rangelov</a>
         
    </dd><dt>Category</dt><dd>Net
         
    </dd><dt>License</dt><dd><a href="http://www.gnu.org/copyleft/lesser.html">LGPL License 2.1</a>
         
    </dd><dt>Link</dt><dd><a href="http://pear2.php.net/PEAR2_Net_Transmitter">http://pear2.php.net/PEAR2_Net_Transmitter</a>
         
    </dd></dl><h3>Constants</h3><div><a id="\PEAR2\Net\Transmitter\Stream::DIRECTION_NONE" class="anchor"></a><div class="constant publicC"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/constant.png" alt="Constant"></img> 
                <span class="highlight">DIRECTION_NONE</span>
                = 0</code><div class="description"><div class="short-description">Used to stop settings in either direction being applied.</div></div><div class="code-tabs"><div class="long-description"></div></div><div class="clear"></div></div><a id="\PEAR2\Net\Transmitter\Stream::DIRECTION_RECEIVE" class="anchor"></a><div class="constant publicC"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/constant.png" alt="Constant"></img> 
                <span class="highlight">DIRECTION_RECEIVE</span>
                = 1</code><div class="description"><div class="short-description">Used to apply settings only to receiving.</div></div><div class="code-tabs"><div class="long-description"></div></div><div class="clear"></div></div><a id="\PEAR2\Net\Transmitter\Stream::DIRECTION_SEND" class="anchor"></a><div class="constant publicC"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/constant.png" alt="Constant"></img> 
                <span class="highlight">DIRECTION_SEND</span>
                = 2</code><div class="description"><div class="short-description">Used to apply settings only to sending.</div></div><div class="code-tabs"><div class="long-description"></div></div><div class="clear"></div></div><a id="\PEAR2\Net\Transmitter\Stream::DIRECTION_ALL" class="anchor"></a><div class="constant publicC"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/constant.png" alt="Constant"></img> 
                <span class="highlight">DIRECTION_ALL</span>
                = 3</code><div class="description"><div class="short-description">Used to apply settings to both sending and receiving.</div></div><div class="code-tabs"><div class="long-description"></div></div><div class="clear"></div></div></div><h3>Properties</h3><div><a id="\PEAR2\Net\Transmitter\Stream::$chunkSize" class="anchor"></a><div class="property protected"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img>array <span class="highlight">$chunkSize</span> = array(self::DIRECTION_SEND =&gt; 1048575, self::DIRECTION_RECEIVE =&gt; 1048575)</code><div class="description"><div class="short-description"><p>An associative array with the chunk size of each direction.
    Key is the direction, value is the size in bytes as integer.</p></div></div><div class="code-tabs"><div class="long-description"></div><strong>Default value</strong><code>array(self::DIRECTION_SEND =&gt; 1048575, self::DIRECTION_RECEIVE =&gt; 1048575)</code><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>array</dd></dl></div><div class="clear"></div></div><a id="\PEAR2\Net\Transmitter\Stream::$isBlocking" class="anchor"></a><div class="property protected"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img><span class="highlight">$isBlocking</span> = true</code><div class="description"></div><div class="code-tabs"><div class="long-description"></div><strong>Default value</strong><code>true</code><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>n/a</dd></dl></div><div class="clear"></div></div><a id="\PEAR2\Net\Transmitter\Stream::$persist" class="anchor"></a><div class="property protected"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img>bool <span class="highlight">$persist</span></code><div class="description"><div class="short-description"><p>A flag that tells whether or not the stream is persistent.</p></div></div><div class="code-tabs"><div class="long-description"></div><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>bool</dd></dl></div><div class="clear"></div></div><a id="\PEAR2\Net\Transmitter\Stream::$stream" class="anchor"></a><div class="property protected"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img>resource <span class="highlight">$stream</span></code><div class="description"><div class="short-description"><p>The stream to wrap around.</p></div></div><div class="code-tabs"><div class="long-description"></div><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>resource</dd></dl></div><div class="clear"></div></div></div><h3>Methods</h3><div><a id="\PEAR2\Net\Transmitter\Stream::__construct()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">__construct</span><span class="nb-faded-text">(resource $stream)</span> : void</code><div class="description"><p class="short_description">Wraps around the specified stream.</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$stream</th><td>resource</td><td><em><p>The stream to wrap around.</p></em></td></tr></table><strong>Details</strong><dl class="function-info"><dt>See</dt><dd><a href="../files/
                         \PEAR2\Net\Transmitter\isFresh()"></a>
         
    </dd></dl></div><div class="clear"></div></div><a id="\PEAR2\Net\Transmitter\Stream::__destruct()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">__destruct</span><span class="nb-faded-text">()</span> : void</code><div class="description"><p class="short_description">Closes the opened stream, unless it's a persistent one.</p></div><div class="code-tabs"><div class="long-description"></div></div><div class="clear"></div></div><a id="\PEAR2\Net\Transmitter\Stream::close()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">close</span><span class="nb-faded-text">()</span> : bool</code><div class="description"><p class="short_description">Closes the opened stream, even if it is a persistent one.</p></div><div class="code-tabs"><div class="long-description"></div><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>bool</td><td>TRUE on success, FALSE on failure.</td></tr></table></div><div class="clear"></div></div><a id="\PEAR2\Net\Transmitter\Stream::createException()" class="anchor"></a><div class="method protected"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img><span class="highlight">createException</span><span class="nb-faded-text">(string $message, int $code = 0)</span> : <a href="../files/StreamException.html">\PEAR2\Net\Transmitter\StreamException</a></code><div class="description"><p class="short_description">Creates a new exception.</p></div><div class="code-tabs"><div class="long-description">Creates a new exception. Used by the rest of the functions in this class.
Override in derived classes for custom exception handling.</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$message</th><td>string</td><td><em><p>The exception message.</p></em></td></tr><tr><th>$code</th><td>int</td><td><em><p>The exception code.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td><a href="../files/StreamException.html">\PEAR2\Net\Transmitter\StreamException</a></td><td>The exception to then be thrown.</td></tr></table></div><div class="clear"></div></div><a id="\PEAR2\Net\Transmitter\Stream::getChunk()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">getChunk</span><span class="nb-faded-text">(string $direction = self::DIRECTION_ALL)</span> : int | array</code><div class="description"><p class="short_description">Gets the size of the chunk.</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$direction</th><td>string</td><td><em><p>The chunk of which direction to get. Valid
    values are the DIRECTION_* constants.</p>
</em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>int | array</td><td>The chunk size in bytes, or an array of chunk sizes
    with the directions as keys. FALSE on invalid direction.</td></tr></table></div><div class="clear"></div></div><a id="\PEAR2\Net\Transmitter\Stream::isAcceptingData()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">isAcceptingData</span><span class="nb-faded-text">(int | null $timeout_s = 0, int $timeout_us = 0)</span> : bool</code><div class="description"><p class="short_description">Checks whether the wrapped stream can be written to without a block.</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$timeout_s</th><td>int | null</td><td><em><p>If the stream isn't currently accepting data,
    wait for it this many seconds to start accepting data. If NULL is
    specified, wait indefinetly for that.</p>
</em></td></tr><tr><th>$timeout_us</th><td>int</td><td><em><p>Microseconds to add to the waiting time.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>bool</td><td>TRUE if the wrapped stream would not block on a write, FALSE
    otherwise.</td></tr></table><strong>Details</strong><dl class="function-info"><dt>SuppressWarnings</dt><dd>(PHPMD.ShortVariable)
         
    </dd></dl></div><div class="clear"></div></div><a id="\PEAR2\Net\Transmitter\Stream::isAvailable()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">isAvailable</span><span class="nb-faded-text">()</span> : bool</code><div class="description"><p class="short_description">Checks whether the stream is available for operations.</p></div><div class="code-tabs"><div class="long-description"></div><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>bool</td><td>TRUE if the stream is available, FALSE otherwise.</td></tr></table></div><div class="clear"></div></div><a id="\PEAR2\Net\Transmitter\Stream::isBlocking()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">isBlocking</span><span class="nb-faded-text">()</span> : void</code><div class="description"><p class="short_description"></p></div><div class="code-tabs"><div class="long-description"></div></div><div class="clear"></div></div><a id="\PEAR2\Net\Transmitter\Stream::isDataAwaiting()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">isDataAwaiting</span><span class="nb-faded-text">(int | null $timeout_s = 0, int $timeout_us = 0)</span> : bool</code><div class="description"><p class="short_description">Checks whether there is data to be read from the wrapped stream.</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$timeout_s</th><td>int | null</td><td><em><p>If theere isn't data awaiting currently,
    wait for it this many seconds for data to arrive. If NULL is
    specified, wait indefinetly for that.</p>
</em></td></tr><tr><th>$timeout_us</th><td>int</td><td><em><p>Microseconds to add to the waiting time.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>bool</td><td>TRUE if there is data to be read, FALSE otherwise.</td></tr></table><strong>Details</strong><dl class="function-info"><dt>SuppressWarnings</dt><dd>(PHPMD.ShortVariable)
         
    </dd></dl></div><div class="clear"></div></div><a id="\PEAR2\Net\Transmitter\Stream::isFresh()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">isFresh</span><span class="nb-faded-text">()</span> : bool</code><div class="description"><p class="short_description">Checks whether the wrapped stream is fresh.</p></div><div class="code-tabs"><div class="long-description">Checks whether the wrapped stream is fresh. A stream is considered fresh
if there hasn't been any activity on it. Particularly useful for
detecting reused persistent connections.</div><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>bool</td><td>TRUE if the socket is fresh, FALSE otherwise.</td></tr></table></div><div class="clear"></div></div><a id="\PEAR2\Net\Transmitter\Stream::isPersistent()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">isPersistent</span><span class="nb-faded-text">()</span> : bool</code><div class="description"><p class="short_description">Checks whether the wrapped stream is a persistent one.</p></div><div class="code-tabs"><div class="long-description"></div><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>bool</td><td>TRUE if the stream is a persistent one, FALSE otherwise.</td></tr></table></div><div class="clear"></div></div><a id="\PEAR2\Net\Transmitter\Stream::isStream()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">isStream</span><span class="nb-faded-text">(mixed $var)</span> : bool</code><div class="description"><span class="attribute">static</span><p class="short_description">Checks if a given variable is a stream resource.</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$var</th><td>mixed</td><td><em><p>The variable to check.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>bool</td><td>TRUE on success, FALSE on failure.</td></tr></table></div><div class="clear"></div></div><a id="\PEAR2\Net\Transmitter\Stream::receive()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">receive</span><span class="nb-faded-text">(int $length, string $what = 'data')</span> : string</code><div class="description"><p class="short_description">Reads from the wrapped stream to receive.</p></div><div class="code-tabs"><div class="long-description">Reads from the wrapped stream to receive content as a string.</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$length</th><td>int</td><td><em><p>The number of bytes to receive.</p></em></td></tr><tr><th>$what</th><td>string</td><td><em><p>Descriptive string about what is being received
    (used in exception messages).</p>
</em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>string</td><td>The received content.</td></tr></table></div><div class="clear"></div></div><a id="\PEAR2\Net\Transmitter\Stream::receiveStream()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">receiveStream</span><span class="nb-faded-text">(int $length, <a href="../files/FilterCollection.html">\PEAR2\Net\Transmitter\FilterCollection</a> $filters = null, string $what = 'stream data')</span> : resource</code><div class="description"><p class="short_description">Reads from the wrapped stream to receive.</p></div><div class="code-tabs"><div class="long-description">Reads from the wrapped stream to receive content as a stream.</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$length</th><td>int</td><td><em><p>The number of bytes to receive.</p></em></td></tr><tr><th>$filters</th><td><a href="../files/FilterCollection.html">\PEAR2\Net\Transmitter\FilterCollection</a></td><td><em><p>A collection of filters to apply to the
    stream while receiving. Note that the filters will not be present on
    the stream after receiving is done.</p></em></td></tr><tr><th>$what</th><td>string</td><td><em><p>Descriptive string about what is being
    received (used in exception messages).</p>
</em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>resource</td><td>The received content.</td></tr></table></div><div class="clear"></div></div><a id="\PEAR2\Net\Transmitter\Stream::send()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">send</span><span class="nb-faded-text">(string | resource $contents, int $offset = null, int $length = null)</span> : int</code><div class="description"><p class="short_description">Sends a string or stream over the wrapped stream.</p></div><div class="code-tabs"><div class="long-description">Sends a string or stream over the wrapped stream. If a seekable stream is
provided, it will be seeked back to the same position it was passed as,
regardless of the $offset parameter.</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$contents</th><td>string | resource</td><td><em><p>The string or stream to send.</p></em></td></tr><tr><th>$offset</th><td>int</td><td><em><p>The offset from which to start sending.
    If a stream is provided, and this is set to NULL, sending will start
    from the current stream position.</p></em></td></tr><tr><th>$length</th><td>int</td><td><em><p>The maximum length to send. If omitted,
    the string/stream will be sent to its end.</p>
</em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>int</td><td>The number of bytes sent.</td></tr></table></div><div class="clear"></div></div><a id="\PEAR2\Net\Transmitter\Stream::setBuffer()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">setBuffer</span><span class="nb-faded-text">(int $size, string $direction = self::DIRECTION_ALL)</span> : bool</code><div class="description"><p class="short_description">Sets the size of a stream's buffer.</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$size</th><td>int</td><td><em><p>The desired size of the buffer, in bytes.</p></em></td></tr><tr><th>$direction</th><td>string</td><td><em><p>The buffer of which direction to set. Valid
    values are the DIRECTION_* constants.</p>
</em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>bool</td><td>TRUE on success, FALSE on failure.</td></tr></table></div><div class="clear"></div></div><a id="\PEAR2\Net\Transmitter\Stream::setChunk()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">setChunk</span><span class="nb-faded-text">(int $size, string $direction = self::DIRECTION_ALL)</span> : bool</code><div class="description"><p class="short_description">Sets the size of the chunk.</p></div><div class="code-tabs"><div class="long-description">To ensure data integrity, as well as to allow for lower memory
consumption, data is sent/received in chunks. This function
allows you to set the size of each chunk. The default is 0xFFFFF.</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$size</th><td>int</td><td><em><p>The desired size of the chunk, in bytes.</p></em></td></tr><tr><th>$direction</th><td>string</td><td><em><p>The chunk of which direction to set. Valid
    values are the DIRECTION_* constants.</p>
</em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>bool</td><td>TRUE on success, FALSE on failure.</td></tr></table></div><div class="clear"></div></div><a id="\PEAR2\Net\Transmitter\Stream::setIsBlocking()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">setIsBlocking</span><span class="nb-faded-text">( $block)</span> : void</code><div class="description"><p class="short_description"></p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$block</th><td></td><td><em></em></td></tr></table></div><div class="clear"></div></div><a id="\PEAR2\Net\Transmitter\Stream::setTimeout()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">setTimeout</span><span class="nb-faded-text">(int $seconds, int $microseconds = 0)</span> : bool</code><div class="description"><p class="short_description">Sets the timeout for the stream.</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$seconds</th><td>int</td><td><em><p>Timeout in seconds.</p></em></td></tr><tr><th>$microseconds</th><td>int</td><td><em><p>Timeout in microseconds to be added to the
    seconds.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>bool</td><td>TRUE on success, FALSE on failure.</td></tr></table></div><div class="clear"></div></div></div></div></div><small class="footer">
            Documentation was generated by
            <a href="http://phpdoc.org">phpDocumentor
                2.1.0-DEV
</a>.
        </small></body></html>
