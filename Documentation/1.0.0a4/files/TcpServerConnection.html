<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>PEAR2_Net_Transmitter documentation</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta><link rel="stylesheet" href="../css/template.css" type="text/css"></link><script type="text/javascript" src="../js/jquery-1.4.2.min.js"></script><script type="text/javascript" src="../js/jquery.tools.min.js"></script><script type="text/javascript" src="../js/jquery-ui-1.8.2.custom.min.js"></script><script type="text/javascript" src="../js/template.js"></script></head><body><div id="content"><h1 class="file">TcpServerConnection.php<a href="../source/TcpServerConnection.php.html"><img src="../images/icons/view_source.png" alt="View Source" border="0"></img></a></h1><div id="file-nav-box"><div id="file-nav-options">
              Show:
              <img src="../images/icons/visibility_public.png" alt="Public" id="show-public"></img><img src="../images/icons/visibility_protected.png" alt="Protected" id="show-protected"></img><img src="../images/icons/visibility_private.png" alt="Private" id="show-private"></img><span class="attribute" id="show-inherited">inherited</span></div><div id="file-nav-container"><ul id="file-nav"><li><a href="#classes"><img src="../images/icons/class.png" alt="Class" height="14"></img>
                          Classes
                      </a><ul><li><a href="#\PEAR2\Net\Transmitter\TcpServerConnection">\PEAR2\Net\Transmitter\TcpServerConnection</a></li></ul></li></ul><div style="clear: left;"></div></div><div id="file-nav-tab">
              Table of Contents
          </div></div><a name="top" class="anchor"></a><div id="file-description"><div class="short-description">Wrapper for network stream functionality.</div><div class="long-description">PHP has built in support for various types of network streams, such as HTTP and TCP sockets. One problem that arises with them is the fact that a single fread/fwrite call might not read/write all the data you intended, regardless of whether you're in blocking mode or not. While the PHP manual offers a workaround in the form of a loop with a few variables, using it every single time you want to read/write can be tedious.

This package abstracts this away, so that when you want to get exactly N amount of bytes, you can be sure the upper levels of your app will be dealing with N bytes. Oh, and the functionality is nicely wrapped in an object (but that's just the icing on the cake).

PHP version 5</div></div><dl class="file-info"><dt>Author</dt><dd><a href="mailto:boen.robot@gmail.com">Vasil Rangelov</a>
         
    </dd><dt>Category</dt><dd>Net
         
    </dd><dt>Copyright</dt><dd>2011 Vasil Rangelov
         
    </dd><dt>License</dt><dd><a href="http://www.gnu.org/copyleft/lesser.html">LGPL License 2.1</a>
         
    </dd><dt>Link</dt><dd><a href="http://pear2.php.net/PEAR2_Net_Transmitter">http://pear2.php.net/PEAR2_Net_Transmitter</a>
         
    </dd><dt>Package</dt><dd>PEAR2_Net_Transmitter
         
    </dd><dt>Version</dt><dd>1.0.0a4
         
    </dd></dl><a name="classes" class="anchor"></a><a id="\PEAR2\Net\Transmitter\TcpServerConnection" class="anchor"></a><h2 class="class">\PEAR2\Net\Transmitter\TcpServerConnection<div class="to-top"><a href="#top">jump to top</a></div></h2><div class="class"><small class="package"><b>Package: </b>PEAR2_Net_Transmitter</small><div class="short-description">A transmitter for connections to a socket server.</div><div class="long-description">This is a convinience wrapper for functionality of socket server connections.
Used to ensure data integrity. Server handling is not part of the class in
order to allow its usage as part of various server implementations (e.g. fork
and/or sequential).</div><dl class="class-info"><dt>Parent(s)</dt><dd><a href="../files/NetworkStream.html#\PEAR2\Net\Transmitter\NetworkStream">\PEAR2\Net\Transmitter\NetworkStream</a>
            &lt;
            <a href="../files/Stream.html#\PEAR2\Net\Transmitter\Stream" style="color: gray; font-size: 0.8em
                ">\PEAR2\Net\Transmitter\Stream</a></dd><dt>Author</dt><dd><a href="mailto:boen.robot@gmail.com">Vasil Rangelov</a>
         
    </dd><dt>Category</dt><dd>Net
         
    </dd><dt>License</dt><dd><a href="http://www.gnu.org/copyleft/lesser.html">LGPL License 2.1</a>
         
    </dd><dt>Link</dt><dd><a href="http://pear2.php.net/PEAR2_Net_Transmitter">http://pear2.php.net/PEAR2_Net_Transmitter</a>
         
    </dd></dl><h3>Properties</h3><div><a id="\PEAR2\Net\Transmitter\TcpServerConnection::$peerIP" class="anchor"></a><div class="property protected"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img>string <span class="highlight">$peerIP</span></code><div class="description"><div class="short-description"><p>The IP address of the connected client.</p></div></div><div class="code-tabs"><div class="long-description"></div><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>string</dd></dl></div><div class="clear"></div></div><a id="\PEAR2\Net\Transmitter\TcpServerConnection::$peerPort" class="anchor"></a><div class="property protected"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img>int <span class="highlight">$peerPort</span></code><div class="description"><div class="short-description"><p>The port of the connected client.</p></div></div><div class="code-tabs"><div class="long-description"></div><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>int</dd></dl></div><div class="clear"></div></div></div><h3>Methods</h3><div><a id="\PEAR2\Net\Transmitter\TcpServerConnection::__construct()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">__construct</span><span class="nb-faded-text">(resource $server, float $timeout = null)</span> : void</code><div class="description"><p class="short_description">Creates a new connection with the specified options.</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$server</th><td>resource</td><td><em><p>A socket server, created with
{@link stream_socket_server()}.</p>
</em></td></tr><tr><th>$timeout</th><td>float</td><td><em><p>The timeout for the connection.</p></em></td></tr></table></div><div class="clear"></div></div><a id="\PEAR2\Net\Transmitter\TcpServerConnection::createException()" class="anchor"></a><div class="method protected"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img><span class="highlight">createException</span><span class="nb-faded-text">(string $message, int $code = 0)</span> : <a href="../files/SocketException.html">\PEAR2\Net\Transmitter\SocketException</a></code><div class="description"><p class="short_description">Creates a new exception.</p></div><div class="code-tabs"><div class="long-description">Creates a new exception. Used by the rest of the functions in this class.</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$message</th><td>string</td><td><em><p>The exception message.</p></em></td></tr><tr><th>$code</th><td>int</td><td><em><p>The exception code.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td><a href="../files/SocketException.html">\PEAR2\Net\Transmitter\SocketException</a></td><td>The exception to then be thrown.</td></tr></table></div><div class="clear"></div></div><a id="\PEAR2\Net\Transmitter\TcpServerConnection::getPeerIP()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">getPeerIP</span><span class="nb-faded-text">()</span> : string</code><div class="description"><p class="short_description">Gets the IP address of the connected client.</p></div><div class="code-tabs"><div class="long-description"></div><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>string</td><td>The IP address of the connected client.</td></tr></table></div><div class="clear"></div></div><a id="\PEAR2\Net\Transmitter\TcpServerConnection::getPeerPort()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">getPeerPort</span><span class="nb-faded-text">()</span> : int</code><div class="description"><p class="short_description">Gets the port of the connected client.</p></div><div class="code-tabs"><div class="long-description"></div><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>int</td><td>The port of the connected client.</td></tr></table></div><div class="clear"></div></div></div></div></div><small class="footer">
            Documentation was generated by
            <a href="http://phpdoc.org">phpDocumentor
                2.1.0-DEV
</a>.
        </small></body></html>
